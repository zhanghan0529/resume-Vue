webpackJsonp([1],{"+BTi":function(e,t){},DcFA:function(e,t){},GPx7:function(e,t){},GXEp:function(e,t){},"L/35":function(e,t){},NHnr:function(e,t,s){"use strict";function n(e){s("cxqJ")}Object.defineProperty(t,"__esModule",{value:!0});var a=(s("isgN"),s("tLa+")),o=s.n(a),i=(s("X+ky"),s("HJMx")),r=s.n(i),u=(s("GXEp"),s("+BTi"),s("mtrD")),c=s.n(u),l=(s("xsZ7"),s("7+uW")),v=s("xJsL"),d=s("woOf"),m=s.n(d),p=s("mvHQ"),f=s.n(p),_=s("NYxO"),h=s("SeUI"),g=s.n(h);l.default.use(_.a);var w=new _.a.Store({state:{current:0,Login:1,count:0,choosetab:0,currentUser:null,user:{id:"",usename:""},resume:{config:[{field:"profile",icon:"mingpian"},{field:"workhistory",icon:"bag"},{field:"projects",icon:"xiangmu"},{field:"school",icon:"xuexiao"},{field:"awards",icon:"jiangbei"},{field:"introduce",icon:"ziwomiaoshu"}],profile:{"姓名":"","职业":"","居住城市":"","年龄":"",Email:"","手机":"",Github:"","求职意向":""},workhistory:[{"公司":"","开始时间":"","结束时间":"","职位":""}],projects:[{"项目":"","项目简介":"","预览地址":""}],school:{"学校":"","专业":"","开始时间":"","结束时间":"","学位":""},awards:[{"时间":"","奖项":""}],introduce:{"自我评价":""}}},mutations:{switchTab:function(e,t){e.choosetab=t,localStorage.setItem("state",f()(e))},updata:function(e,t){var s=t.path,n=t.value;g.a.set(e.resume,s,n),localStorage.setItem("state",f()(e))},initState:function(e,t){m()(e,t)},addproject:function(e,t){"workhistory"===t?e.resume[t].push({"公司":"","开始时间":"","结束时间":"","职位":""}):"projects"===t?e.resume[t].push({"项目":"","项目简介":"","预览地址":""}):"awards"===t&&e.resume[t].push({"时间":"","奖项":""})},deleteproject:function(e,t){var s=t.item,n=t.which,a=e.resume[n].indexOf(s);e.resume[n].splice(a,1)},signup:function(e){e.Login=0},login:function(e){e.Login=1},setUser:function(e,t){m()(e.user,t)},isUser:function(e,t){this.state.currentUser=t}}}),b=s("ohTm"),y=(s("L/35"),s("XcVv")),C=s("fc3l"),k=s("/ocq");l.default.use(k.a);var D=function(){return new Promise(function(e){e()}).then(s.bind(null,"fc3l"))},x=function(){return new Promise(function(e){e()}).then(s.bind(null,"xJsL"))},$=new k.a({routes:[{path:"/login",component:x},{path:"/resume",component:D}]}),j=$,U={name:"app",store:w,AV:b.a,router:j,created:function(){this.$store.commit("setUser",Object(y.a)()),this.$store.commit("isUser",Object(y.a)()),this.count.user.id&&this.getResume()},components:{Login:v.default,Resume:C.default},computed:{count:function(){return this.$store.state},user:function(){return this.$store.state.user}},methods:{logined:function(e){this.$store.commit("setUser",e),this.getResume()},getResume:function(){var e=this;new b.a.Query("ResumeList").find().then(function(t){var s=t[0],n=s.id;console.log(e.count.id),e.count.id=n,e.count.resume=JSON.parse(s.attributes.content)})}}},P=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[null===e.count.currentUser||""===e.count.user.id?s("div",[s("router-link",{attrs:{to:"/login",tag:"div"}},[s("Login",{on:{success:function(t){e.logined(t)}}})],1)],1):s("div",[s("router-link",{attrs:{to:"/resume",tag:"div"}},[s("Resume")],1)],1),e._v(" "),s("router-view")],1)},E=[],L={render:P,staticRenderFns:E},R=L,O=s("VU/8"),T=n,N=O(U,R,!1,T,null,null),V=N.exports;l.default.use(c.a),l.default.use(r.a),l.default.use(o.a),l.default.config.productionTip=!1,new l.default({el:"#app",template:"<App/>",router:j,components:{App:V}}).$mount("#app")},V9gH:function(e,t){},"X+ky":function(e,t){},XcVv:function(e,t,s){"use strict";var n=s("ohTm");t.a=function(e){var t=e||n.a.User.current()||{attributes:{}},s=t.id,a=t.attributes.username;return{id:s||"",username:a||""}}},Xr8a:function(e,t){},cfEf:function(e,t){},cxqJ:function(e,t){},fc3l:function(e,t,s){"use strict";function n(e){s("V9gH")}function a(e){s("Xr8a")}function o(e){s("cfEf")}function i(e){s("GPx7")}Object.defineProperty(t,"__esModule",{value:!0});var r=s("mvHQ"),u=s.n(r),c=s("ohTm"),l={computed:{resume:function(){return this.$store.state}},methods:{saveORupdate:function(){this.resume.resume.id?(console.log(1),this.updateresume()):(console.log(2),this.saveresume())},saveresume:function(){var e=this,t=u()(this.resume.resume),s=c.a.Object.extend("ResumeList"),n=new s;n.set("content",t);var a=new c.a.ACL;a.setPublicReadAccess(!1),a.setPublicWriteAccess(!1),a.setWriteAccess(c.a.User.current(),!0),a.setReadAccess(c.a.User.current(),!0),n.setACL(a),n.save().then(function(t){e.resume.resume.id=t.id,console.log(t.id)}).catch(function(e){console.log(3)})},updateresume:function(){var e=u()(this.resume.resume),t=c.a.Object.createWithoutData("ResumeList",this.resume.resume.id);t.set("content",e),console.log(this.resume.resume.id),t.save(),console.log(4)},loginout:function(){c.a.User.logOut(),this.$store.commit("isUser",null)}}},v=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"topbar"}},[e._m(0,!1,!1),e._v(" "),s("div",{staticClass:"topbarbtn"},[s("el-button",{attrs:{type:"info",size:"small"}},[e._v("预览")]),e._v(" "),s("el-button",{attrs:{type:"info",size:"small"},on:{click:function(t){t.preventDefault(),e.saveORupdate(t)}}},[e._v("保存")]),e._v(" "),s("el-button",{attrs:{type:"info",size:"small"},on:{click:function(t){t.preventDefault(),e.loginout(t)}}},[e._v("登出")])],1)])},d=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"logo"},[s("img",{attrs:{src:"//ozuq4db16.bkt.clouddn.com/1.PNG",alt:""}})])}],m={render:v,staticRenderFns:d},p=m,f=s("VU/8"),_=n,h=f(l,p,!1,_,null,null),g=h.exports,w={name:"EditorTab",computed:{choosetab:{get:function(){return this.$store.state.choosetab},set:function(e){return this.$store.commit("switchTab",e)}},resume:function(){return this.$store.state.resume}},methods:{additem:function(e){this.$store.commit("addproject",e)},deleteitem:function(e,t){this.$store.commit("deleteproject",{item:e,which:t})},changedata:function(e,t){this.$store.commit("updata",{path:e,value:t})}}},b=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"editor"}},[s("ul",{staticClass:"class-icons"},e._l(e.resume.config,function(t,n){return s("li",{class:{active:e.choosetab===n},on:{click:function(t){e.choosetab=n}}},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-"+e.resume.config[n].icon}})])])})),e._v(" "),s("ul",{staticClass:"to-input"},[s("li",{class:{active:0===e.choosetab}},e._l(e.resume.profile,function(t,n){return s("div",[s("label",[e._v(e._s(n))]),e._v(" "),s("el-input",{attrs:{value:t,placeholder:"请输入"+n},on:{input:function(t){e.changedata("profile."+n,t)}}})],1)})),e._v(" "),s("li",{class:{active:1===e.choosetab}},[e._l(e.resume.workhistory,function(t,n){return s("div",{staticClass:"workhistory"},[e._l(t,function(t,a){return s("div",["开始时间"===a||"结束时间"===a?s("div",[s("label",[e._v(e._s(a))]),e._v(" "),s("el-date-picker",{attrs:{value:t,type:"month","value-format":"yyyy.MM",placeholder:"选择日期"},on:{input:function(t){e.changedata("workhistory."+n+"."+a,t)}}})],1):s("div",[s("label",[e._v(e._s(a))]),e._v(" "),s("el-input",{attrs:{value:t,placeholder:"请输入"+a+"名称"},on:{input:function(t){e.changedata("workhistory."+n+"."+a,t)}}})],1)])}),e._v(" "),s("i",{staticClass:"el-icon-delete",on:{click:function(s){s.preventDefault(),e.deleteitem(t,"workhistory")}}}),e._v(" "),s("hr")],2)}),e._v(" "),s("button",{staticClass:"addmore",on:{click:function(t){t.preventDefault(),e.additem("workhistory")}}},[e._v("+")])],2),e._v(" "),s("li",{class:{active:2===e.choosetab}},[e._l(e.resume.projects,function(t,n){return s("div",{staticClass:"projects"},[e._l(t,function(t,a){return s("div",["项目简介"===a?s("div",[s("label",[e._v(e._s(a))]),e._v(" "),s("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入"+a},on:{input:function(t){e.changedata("projects."+n+"."+a,t)}}})],1):s("div",[s("label",[e._v(e._s(a))]),e._v(" "),s("el-input",{attrs:{value:t,placeholder:"请输入内容"},on:{input:function(t){e.changedata("projects."+n+"."+a,t)}}})],1)])}),e._v(" "),s("i",{staticClass:"el-icon-delete",on:{click:function(s){s.preventDefault(),e.deleteitem(t,"projects")}}}),e._v(" "),s("hr")],2)}),e._v(" "),s("button",{staticClass:"addmore",on:{click:function(t){t.preventDefault(),e.additem("projects")}}},[e._v("+")])],2),e._v(" "),s("li",{class:{active:3===e.choosetab}},e._l(e.resume.school,function(t,n){return s("div",["开始时间"===n||"结束时间"===n?s("div",[s("label",[e._v(e._s(n))]),e._v(" "),s("el-date-picker",{attrs:{value:t,type:"month","value-format":"yyyy.MM",placeholder:"选择日期"},on:{input:function(t){e.changedata("school."+n,t)}}})],1):s("div",[s("label",[e._v(e._s(n))]),e._v(" "),s("el-input",{attrs:{value:t,placeholder:"请输入"+n},on:{input:function(t){e.changedata("school."+n,t)}}})],1)])})),e._v(" "),s("li",{class:{active:4===e.choosetab}},[e._l(e.resume.awards,function(t,n){return s("div",[e._l(t,function(t,a){return s("div",["时间"===a?s("div",[s("label",[e._v("时间")]),e._v(" "),s("el-date-picker",{attrs:{value:t,type:"month","value-format":"yyyy.MM",placeholder:"选择日期"},on:{input:function(t){e.changedata("awards."+n+"."+a,t)}}})],1):s("div",[s("label",[e._v(e._s(a))]),e._v(" "),s("el-input",{attrs:{value:t,placeholder:"请输入"+a},on:{input:function(t){e.changedata("awards."+n+"."+a,t)}}})],1)])}),e._v(" "),s("i",{staticClass:"el-icon-delete",on:{click:function(s){s.preventDefault(),e.deleteitem(t,"awards")}}}),e._v(" "),s("hr")],2)}),e._v(" "),s("button",{staticClass:"addmore",on:{click:function(t){t.preventDefault(),e.additem("awards")}}},[e._v("+")])],2),e._v(" "),s("li",{class:{active:5===e.choosetab}},e._l(e.resume.introduce,function(t,n){return s("div",[s("label",[e._v(e._s(n))]),e._v(" "),s("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请简述"+n},on:{input:function(t){e.changedata("introduce."+n,t)}}})],1)}))])])},y=[],C={render:b,staticRenderFns:y},k=C,D=s("VU/8"),x=a,$=D(w,k,!1,x,null,null),j=$.exports,U={computed:{resume:function(){return this.$store.state.resume}},methods:{}},P=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"preview"}},[s("div",{staticClass:"pcontent"},[s("div",{staticClass:"profile"},[s("h1",[e._v(e._s(e.resume.profile.姓名))]),e._v(" "),s("h3",[e._v(e._s(e.resume.profile.职业))]),e._v(" "),s("hr"),e._v(" "),s("div",{staticClass:"inform"},[s("h2",[e._v("基本信息")]),e._v(" "),s("p",[s("span",[e._v("年龄：")]),e._v(e._s(e.resume.profile.年龄))]),e._v(" "),s("p",[s("span",[e._v("城市：")]),e._v(e._s(e.resume.profile.居住城市))]),e._v(" "),s("p",[s("span",[e._v("Email：")]),e._v(e._s(e.resume.profile.Email))]),e._v(" "),s("p",[s("span",[e._v("手机：")]),e._v(e._s(e.resume.profile.手机))]),e._v(" "),s("p",[s("span",[e._v("Github：")]),e._v(e._s(e.resume.profile.Github))]),e._v(" "),s("hr"),e._v(" "),s("h2",[e._v("求职意向")]),e._v(" "),s("p",[e._v(e._s(e.resume.profile.求职意向))])]),e._v(" "),s("hr")]),e._v(" "),0!==e.resume.workhistory.length?s("div",{staticClass:"workhistory"},[s("h2",[e._v("工作经历")]),e._v(" "),e._l(e.resume.workhistory,function(t,n){return s("div",{staticClass:"item"},[s("p",[s("span",[e._v("公司：")]),e._v(e._s(t.公司))]),e._v(" "),s("p",[s("span",[e._v("工作时间：")]),e._v(e._s(t.开始时间)+" - "+e._s(t.结束时间))]),e._v(" "),s("p",[s("span",[e._v("职位：")]),e._v(e._s(t.职位))])])}),e._v(" "),s("hr")],2):e._e(),e._v(" "),0!==e.resume.projects.length?s("div",{staticClass:"projects"},[s("h2",[e._v("项目经验")]),e._v(" "),e._l(e.resume.projects,function(t){return s("div",{staticClass:"item"},[s("h3",[e._v(e._s(t.项目))]),e._v(" "),s("p",[s("span",[e._v("项目简介：")]),e._v(e._s(t.项目简介))]),e._v(" "),s("p",[s("span",[e._v("线上地址：")]),e._v(e._s(t.预览地址))])])}),e._v(" "),s("hr")],2):e._e(),e._v(" "),s("div",{staticClass:"school"},[s("h2",[e._v("教育背景")]),e._v(" "),s("p",[s("span",[e._v("学校：")]),e._v(e._s(e.resume.school.学校))]),e._v(" "),s("p",[s("span",[e._v("专业：")]),e._v(e._s(e.resume.school.专业))]),e._v(" "),s("p",[s("span",[e._v("时间：")]),e._v(e._s(e.resume.school.开始时间)+"-"+e._s(e.resume.school.结束时间))]),e._v(" "),s("p",[s("span",[e._v("学位：")]),e._v(e._s(e.resume.school.学位))]),e._v(" "),s("hr")]),e._v(" "),0!==e.resume.awards.length?s("div",{staticClass:"awards"},[s("h2",[e._v("获得荣誉")]),e._v(" "),e._l(e.resume.awards,function(t){return s("div",{staticClass:"item"},[s("p",[s("span",[e._v("时间：")]),e._v(e._s(t.时间))]),e._v(" "),s("p",[s("span",[e._v("获奖内容：")]),e._v(e._s(t.奖项))])])}),e._v(" "),s("hr")],2):e._e(),e._v(" "),s("div",{staticClass:"introduce"},[s("h2",[e._v("自我评价")]),e._v(" "),s("p",[e._v(e._s(e.resume.introduce.自我评价))])])])])},E=[],L={render:P,staticRenderFns:E},R=L,O=s("VU/8"),T=o,N=O(U,R,!1,T,null,null),V=N.exports,A={components:{TopBar:g,EditorTab:j,Preview:V}},G=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"seciton"},[s("TopBar"),e._v(" "),s("div",{staticClass:"content"},[s("EditorTab"),e._v(" "),s("Preview")],1)],1)},z=[],M={render:G,staticRenderFns:z},J=M,X=s("VU/8"),F=i,H=X(A,J,!1,F,null,null);t.default=H.exports},isgN:function(e,t){},ohTm:function(e,t,s){"use strict";var n=s("JnRc"),a=s.n(n);a.a.init({appId:"B5kvrUwg3Ez32cbeyDjx2w3B-gzGzoHsz",appKey:"29fPCI4aGlr96gfStlyjQQEb"}),t.a=a.a},xJsL:function(e,t,s){"use strict";function n(e){s("DcFA")}Object.defineProperty(t,"__esModule",{value:!0});var a=s("ohTm"),o=s("XcVv"),i={data:function(){return{message:"",formData:{username:"",password:"",cfpassword:""}}},methods:{signUp:function(){var e=this,t=this.formData,s=t.username,n=t.password,o=t.cfpassword,i=new a.a.User;n===o?(i.setUsername(s),i.setPassword(n),i.signUp().then(function(t){e.message="注册成功"},function(t){e.message="注册失败⊙﹏⊙"})):this.message="两次密码不一致~"},Login:function(){var e=this,t=this.formData,s=t.username,n=t.password;a.a.User.logIn(s,n).then(function(t){e.$emit("success",Object(o.a)()),e.$store.commit("isUser",Object(o.a)())},function(t){e.message="用户不存在或者密码错误~"})},signup:function(){this.$store.commit("signup"),this.message=""},login:function(){this.$store.commit("login"),this.message=""}},computed:{count:function(){return this.$store.state}}},r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login"},[s("div",[e._m(0,!1,!1),e._v(" "),s("div",{staticClass:"loginandsign"},[1===e.count.Login?s("div",{staticClass:"logined"},[s("form",{on:{submit:function(t){t.stopPropagation(),e.Login(t)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.username,expression:"formData.username"}],attrs:{type:"text",value:"",placeholder:"账号"},domProps:{value:e.formData.username},on:{input:function(t){t.target.composing||e.$set(e.formData,"username",t.target.value)}}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.password,expression:"formData.password"}],attrs:{type:"password",value:"",placeholder:"密码"},domProps:{value:e.formData.password},on:{input:function(t){t.target.composing||e.$set(e.formData,"password",t.target.value)}}}),e._v(" "),s("a",{staticClass:"linksign",on:{click:e.signup}},[e._v("没有账号,赶紧注册~")]),e._v(" "),s("input",{staticClass:"loginbtn",attrs:{type:"submit",value:"登陆"}}),e._v(" "),s("div",{staticClass:"message"},[e._v(e._s(e.message))])])]):s("div",{staticClass:"signup"},[s("form",{on:{submit:function(t){t.preventDefault(),e.signUp(t)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.username,expression:"formData.username"}],attrs:{type:"text",value:"",placeholder:"账号"},domProps:{value:e.formData.username},on:{input:function(t){t.target.composing||e.$set(e.formData,"username",t.target.value)}}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.password,expression:"formData.password"}],attrs:{type:"password",value:"",placeholder:"密码"},domProps:{value:e.formData.password},on:{input:function(t){t.target.composing||e.$set(e.formData,"password",t.target.value)}}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.cfpassword,expression:"formData.cfpassword"}],attrs:{type:"password",value:"",placeholder:"确认密码"},domProps:{value:e.formData.cfpassword},on:{input:function(t){t.target.composing||e.$set(e.formData,"cfpassword",t.target.value)}}}),e._v(" "),s("input",{staticClass:"loginbtn",attrs:{type:"submit",value:"注册"}}),e._v(" "),s("div",{staticClass:"message"},[e._v(e._s(e.message))]),e._v(" "),s("a",{staticClass:"linksign",on:{click:e.login}},[e._v("已有账号,回去登陆~")])])])])])])},u=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"logo"},[s("div",[s("img",{staticClass:"shake-slow shake-constant shake-constant--hover",attrs:{src:"//ozuq4db16.bkt.clouddn.com/1.PNG",alt:""}}),e._v(" "),s("div",{staticClass:"words"},[e._v("Create your resume")])])])}],c={render:r,staticRenderFns:u},l=c,v=s("VU/8"),d=n,m=v(i,l,!1,d,null,null);t.default=m.exports},xsZ7:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.83a321b3ce1c888ff6bb.js.map