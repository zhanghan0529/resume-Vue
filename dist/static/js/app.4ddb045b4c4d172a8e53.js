webpackJsonp([1],{"+BTi":function(e,t){},GXEp:function(e,t){},"L/35":function(e,t){},NHnr:function(e,t,s){"use strict";function n(e){s("ywTu")}function a(e){s("Xr8a")}function o(e){s("cfEf")}function i(e){s("sL++")}function r(e){s("Vigi")}Object.defineProperty(t,"__esModule",{value:!0});var u=(s("isgN"),s("tLa+")),c=s.n(u),l=(s("X+ky"),s("HJMx")),v=s.n(l),d=(s("GXEp"),s("+BTi"),s("mtrD")),m=s.n(d),p=(s("xsZ7"),s("7+uW")),_=s("mvHQ"),f=s.n(_),h=s("JnRc"),g=s.n(h);g.a.init({appId:"B5kvrUwg3Ez32cbeyDjx2w3B-gzGzoHsz",appKey:"29fPCI4aGlr96gfStlyjQQEb"});var w=g.a,b={computed:{resume:function(){return this.$store.state}},methods:{saveORupdate:function(){this.resume.resume.id?(console.log(1),this.updateresume()):(console.log(2),this.saveresume())},saveresume:function(){var e=this,t=f()(this.resume.resume),s=w.Object.extend("ResumeList"),n=new s;n.set("content",t);var a=new w.ACL;a.setPublicReadAccess(!1),a.setPublicWriteAccess(!1),a.setWriteAccess(w.User.current(),!0),a.setReadAccess(w.User.current(),!0),n.setACL(a),n.save().then(function(t){e.resume.resume.id=t.id,console.log(t.id)}).catch(function(e){console.log(3)})},updateresume:function(){var e=f()(this.resume.resume),t=w.Object.createWithoutData("ResumeList",this.resume.resume.id);t.set("content",e),console.log(this.resume.resume.id),t.save(),console.log(4)},loginout:function(){localStorage.clear(),w.User.logOut(),this.$store.commit("isUser",null)}}},y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"topbar"}},[e._m(0,!1,!1),e._v(" "),s("div",{staticClass:"topbarbtn"},[s("el-button",{attrs:{type:"info",size:"small"}},[e._v("预览")]),e._v(" "),s("el-button",{attrs:{type:"info",size:"small"},on:{click:function(t){t.preventDefault(),e.saveORupdate(t)}}},[e._v("保存")]),e._v(" "),s("el-button",{attrs:{type:"info",size:"small"},on:{click:function(t){t.preventDefault(),e.loginout(t)}}},[e._v("登出")])],1)])},C=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"logo"},[s("img",{attrs:{src:"//ozuq4db16.bkt.clouddn.com/1.PNG",alt:""}})])}],k={render:y,staticRenderFns:C},D=k,$=s("VU/8"),U=n,x=$(b,D,!1,U,null,null),j=x.exports,E={name:"EditorTab",computed:{choosetab:{get:function(){return this.$store.state.choosetab},set:function(e){return this.$store.commit("switchTab",e)}},resume:function(){return this.$store.state.resume}},methods:{additem:function(e){this.$store.commit("addproject",e)},deleteitem:function(e,t){this.$store.commit("deleteproject",{item:e,which:t})},changedata:function(e,t){this.$store.commit("updata",{path:e,value:t})}}},L=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"editor"}},[s("ul",{staticClass:"class-icons"},e._l(e.resume.config,function(t,n){return s("li",{class:{active:e.choosetab===n},on:{click:function(t){e.choosetab=n}}},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-"+e.resume.config[n].icon}})])])})),e._v(" "),s("ul",{staticClass:"to-input"},[s("li",{class:{active:0===e.choosetab}},e._l(e.resume.profile,function(t,n){return s("div",[s("label",[e._v(e._s(n))]),e._v(" "),s("el-input",{attrs:{value:t,placeholder:"请输入"+n},on:{input:function(t){e.changedata("profile."+n,t)}}})],1)})),e._v(" "),s("li",{class:{active:1===e.choosetab}},[e._l(e.resume.workhistory,function(t,n){return s("div",{staticClass:"workhistory"},[e._l(t,function(t,a){return s("div",["开始时间"===a||"结束时间"===a?s("div",[s("label",[e._v(e._s(a))]),e._v(" "),s("el-date-picker",{attrs:{value:t,type:"month","value-format":"yyyy.MM",placeholder:"选择日期"},on:{input:function(t){e.changedata("workhistory."+n+"."+a,t)}}})],1):s("div",[s("label",[e._v(e._s(a))]),e._v(" "),s("el-input",{attrs:{value:t,placeholder:"请输入"+a+"名称"},on:{input:function(t){e.changedata("workhistory."+n+"."+a,t)}}})],1)])}),e._v(" "),s("i",{staticClass:"el-icon-delete",on:{click:function(s){s.preventDefault(),e.deleteitem(t,"workhistory")}}}),e._v(" "),s("hr")],2)}),e._v(" "),s("button",{staticClass:"addmore",on:{click:function(t){t.preventDefault(),e.additem("workhistory")}}},[e._v("+")])],2),e._v(" "),s("li",{class:{active:2===e.choosetab}},[e._l(e.resume.projects,function(t,n){return s("div",{staticClass:"projects"},[e._l(t,function(t,a){return s("div",["项目简介"===a?s("div",[s("label",[e._v(e._s(a))]),e._v(" "),s("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入"+a},on:{input:function(t){e.changedata("projects."+n+"."+a,t)}}})],1):s("div",[s("label",[e._v(e._s(a))]),e._v(" "),s("el-input",{attrs:{value:t,placeholder:"请输入内容"},on:{input:function(t){e.changedata("projects."+n+"."+a,t)}}})],1)])}),e._v(" "),s("i",{staticClass:"el-icon-delete",on:{click:function(s){s.preventDefault(),e.deleteitem(t,"projects")}}}),e._v(" "),s("hr")],2)}),e._v(" "),s("button",{staticClass:"addmore",on:{click:function(t){t.preventDefault(),e.additem("projects")}}},[e._v("+")])],2),e._v(" "),s("li",{class:{active:3===e.choosetab}},e._l(e.resume.school,function(t,n){return s("div",["开始时间"===n||"结束时间"===n?s("div",[s("label",[e._v(e._s(n))]),e._v(" "),s("el-date-picker",{attrs:{value:t,type:"month","value-format":"yyyy.MM",placeholder:"选择日期"},on:{input:function(t){e.changedata("school."+n,t)}}})],1):s("div",[s("label",[e._v(e._s(n))]),e._v(" "),s("el-input",{attrs:{value:t,placeholder:"请输入"+n},on:{input:function(t){e.changedata("school."+n,t)}}})],1)])})),e._v(" "),s("li",{class:{active:4===e.choosetab}},[e._l(e.resume.awards,function(t,n){return s("div",[e._l(t,function(t,a){return s("div",["时间"===a?s("div",[s("label",[e._v("时间")]),e._v(" "),s("el-date-picker",{attrs:{value:t,type:"month","value-format":"yyyy.MM",placeholder:"选择日期"},on:{input:function(t){e.changedata("awards."+n+"."+a,t)}}})],1):s("div",[s("label",[e._v(e._s(a))]),e._v(" "),s("el-input",{attrs:{value:t,placeholder:"请输入"+a},on:{input:function(t){e.changedata("awards."+n+"."+a,t)}}})],1)])}),e._v(" "),s("i",{staticClass:"el-icon-delete",on:{click:function(s){s.preventDefault(),e.deleteitem(t,"awards")}}}),e._v(" "),s("hr")],2)}),e._v(" "),s("button",{staticClass:"addmore",on:{click:function(t){t.preventDefault(),e.additem("awards")}}},[e._v("+")])],2),e._v(" "),s("li",{class:{active:5===e.choosetab}},e._l(e.resume.introduce,function(t,n){return s("div",[s("label",[e._v(e._s(n))]),e._v(" "),s("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请简述"+n},on:{input:function(t){e.changedata("introduce."+n,t)}}})],1)}))])])},R=[],P={render:L,staticRenderFns:R},N=P,T=s("VU/8"),z=a,O=T(E,N,!1,z,null,null),A=O.exports,G={computed:{resume:function(){return this.$store.state.resume}},methods:{}},M=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"preview"}},[s("div",{staticClass:"pcontent"},[s("div",{staticClass:"profile"},[s("h1",[e._v(e._s(e.resume.profile.姓名))]),e._v(" "),s("h3",[e._v(e._s(e.resume.profile.职业))]),e._v(" "),s("hr"),e._v(" "),s("div",{staticClass:"inform"},[s("h2",[e._v("基本信息")]),e._v(" "),s("p",[s("span",[e._v("年龄：")]),e._v(e._s(e.resume.profile.年龄))]),e._v(" "),s("p",[s("span",[e._v("城市：")]),e._v(e._s(e.resume.profile.居住城市))]),e._v(" "),s("p",[s("span",[e._v("Email：")]),e._v(e._s(e.resume.profile.Email))]),e._v(" "),s("p",[s("span",[e._v("手机：")]),e._v(e._s(e.resume.profile.手机))]),e._v(" "),s("p",[s("span",[e._v("Github：")]),e._v(e._s(e.resume.profile.Github))]),e._v(" "),s("hr"),e._v(" "),s("h2",[e._v("求职意向")]),e._v(" "),s("p",[e._v(e._s(e.resume.profile.求职意向))])]),e._v(" "),s("hr")]),e._v(" "),0!==e.resume.workhistory.length?s("div",{staticClass:"workhistory"},[s("h2",[e._v("工作经历")]),e._v(" "),e._l(e.resume.workhistory,function(t,n){return s("div",{staticClass:"item"},[s("p",[s("span",[e._v("公司：")]),e._v(e._s(t.公司))]),e._v(" "),s("p",[s("span",[e._v("工作时间：")]),e._v(e._s(t.开始时间)+" - "+e._s(t.结束时间))]),e._v(" "),s("p",[s("span",[e._v("职位：")]),e._v(e._s(t.职位))])])}),e._v(" "),s("hr")],2):e._e(),e._v(" "),0!==e.resume.projects.length?s("div",{staticClass:"projects"},[s("h2",[e._v("项目经验")]),e._v(" "),e._l(e.resume.projects,function(t){return s("div",{staticClass:"item"},[s("h3",[e._v(e._s(t.项目))]),e._v(" "),s("p",[s("span",[e._v("项目简介：")]),e._v(e._s(t.项目简介))]),e._v(" "),s("p",[s("span",[e._v("线上地址：")]),e._v(e._s(t.预览地址))])])}),e._v(" "),s("hr")],2):e._e(),e._v(" "),s("div",{staticClass:"school"},[s("h2",[e._v("教育背景")]),e._v(" "),s("p",[s("span",[e._v("学校：")]),e._v(e._s(e.resume.school.学校))]),e._v(" "),s("p",[s("span",[e._v("专业：")]),e._v(e._s(e.resume.school.专业))]),e._v(" "),s("p",[s("span",[e._v("时间：")]),e._v(e._s(e.resume.school.开始时间)+"-"+e._s(e.resume.school.结束时间))]),e._v(" "),s("p",[s("span",[e._v("学位：")]),e._v(e._s(e.resume.school.学位))]),e._v(" "),s("hr")]),e._v(" "),0!==e.resume.awards.length?s("div",{staticClass:"awards"},[s("h2",[e._v("获得荣誉")]),e._v(" "),e._l(e.resume.awards,function(t){return s("div",{staticClass:"item"},[s("p",[s("span",[e._v("时间：")]),e._v(e._s(t.时间))]),e._v(" "),s("p",[s("span",[e._v("获奖内容：")]),e._v(e._s(t.奖项))])])}),e._v(" "),s("hr")],2):e._e(),e._v(" "),s("div",{staticClass:"introduce"},[s("h2",[e._v("自我评价")]),e._v(" "),s("p",[e._v(e._s(e.resume.introduce.自我评价))])])])])},S=[],V={render:M,staticRenderFns:S},B=V,I=s("VU/8"),X=o,F=I(G,B,!1,X,null,null),H=F.exports,J=function(e){var t=e||w.User.current()||{attributes:{}},s=t.id,n=t.attributes.username;return{id:s||"",username:n||""}},Q={data:function(){return{message:"",formData:{username:"",password:"",cfpassword:""}}},methods:{signUp:function(){var e=this,t=this.formData,s=t.username,n=t.password,a=t.cfpassword,o=new w.User;n===a?(o.setUsername(s),o.setPassword(n),o.signUp().then(function(t){e.message="注册成功"},function(t){e.message="注册失败⊙﹏⊙"})):this.message="两次密码不一致~"},Login:function(){var e=this,t=this.formData,s=t.username,n=t.password;w.User.logIn(s,n).then(function(t){e.$emit("success",J()),e.$store.commit("isUser",J())},function(t){e.message="用户不存在或者密码错误~"})},signup:function(){this.$store.commit("signup"),this.message=""},login:function(){this.$store.commit("login"),this.message=""}},computed:{count:function(){return this.$store.state}}},W=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login"},[s("div",[e._m(0,!1,!1),e._v(" "),s("div",{staticClass:"loginandsign"},[1===e.count.Login?s("div",{staticClass:"logined"},[s("form",{on:{submit:function(t){t.preventDefault(),e.Login(t)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.username,expression:"formData.username"}],attrs:{type:"text",value:"",placeholder:"账号"},domProps:{value:e.formData.username},on:{input:function(t){t.target.composing||e.$set(e.formData,"username",t.target.value)}}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.password,expression:"formData.password"}],attrs:{type:"password",value:"",placeholder:"密码"},domProps:{value:e.formData.password},on:{input:function(t){t.target.composing||e.$set(e.formData,"password",t.target.value)}}}),e._v(" "),s("a",{staticClass:"linksign",on:{click:e.signup}},[e._v("没有账号,赶紧注册~")]),e._v(" "),s("input",{staticClass:"loginbtn",attrs:{type:"submit",value:"登陆"}}),e._v(" "),s("div",{staticClass:"message"},[e._v(e._s(e.message))])])]):s("div",{staticClass:"signup"},[s("form",{on:{submit:function(t){t.preventDefault(),e.signUp(t)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.username,expression:"formData.username"}],attrs:{type:"text",value:"",placeholder:"账号"},domProps:{value:e.formData.username},on:{input:function(t){t.target.composing||e.$set(e.formData,"username",t.target.value)}}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.password,expression:"formData.password"}],attrs:{type:"password",value:"",placeholder:"密码"},domProps:{value:e.formData.password},on:{input:function(t){t.target.composing||e.$set(e.formData,"password",t.target.value)}}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.cfpassword,expression:"formData.cfpassword"}],attrs:{type:"password",value:"",placeholder:"确认密码"},domProps:{value:e.formData.cfpassword},on:{input:function(t){t.target.composing||e.$set(e.formData,"cfpassword",t.target.value)}}}),e._v(" "),s("input",{staticClass:"loginbtn",attrs:{type:"submit",value:"注册"}}),e._v(" "),s("div",{staticClass:"message"},[e._v(e._s(e.message))]),e._v(" "),s("a",{staticClass:"linksign",on:{click:e.login}},[e._v("已有账号,回去登陆~")])])])])])])},q=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"logo"},[s("div",[s("img",{staticClass:"shake-slow shake-constant shake-constant--hover",attrs:{src:"//ozuq4db16.bkt.clouddn.com/1.PNG",alt:""}}),e._v(" "),s("div",{staticClass:"words"},[e._v("Create your resume")])])])}],Z={render:W,staticRenderFns:q},K=Z,Y=s("VU/8"),ee=i,te=Y(Q,K,!1,ee,null,null),se=te.exports,ne=s("woOf"),ae=s.n(ne),oe=s("NYxO"),ie=s("SeUI"),re=s.n(ie);p.default.use(oe.a);var ue=new oe.a.Store({state:{current:0,Login:1,count:0,choosetab:0,currentUser:null,user:{id:"",usename:""},resume:{config:[{field:"profile",icon:"mingpian"},{field:"workhistory",icon:"bag"},{field:"projects",icon:"xiangmu"},{field:"school",icon:"xuexiao"},{field:"awards",icon:"jiangbei"},{field:"introduce",icon:"ziwomiaoshu"}],profile:{"姓名":"","职业":"","居住城市":"","年龄":"",Email:"","手机":"",Github:"","求职意向":""},workhistory:[{"公司":"","开始时间":"","结束时间":"","职位":""}],projects:[{"项目":"","项目简介":"","预览地址":""}],school:{"学校":"","专业":"","开始时间":"","结束时间":"","学位":""},awards:[{"时间":"","奖项":""}],introduce:{"自我评价":""}}},mutations:{switchTab:function(e,t){e.choosetab=t,localStorage.setItem("state",f()(e))},updata:function(e,t){var s=t.path,n=t.value;re.a.set(e.resume,s,n),localStorage.setItem("state",f()(e))},initState:function(e,t){ae()(e,t)},addproject:function(e,t){"workhistory"===t?e.resume[t].push({"公司":"","开始时间":"","结束时间":"","职位":""}):"projects"===t?e.resume[t].push({"项目":"","项目简介":"","预览地址":""}):"awards"===t&&e.resume[t].push({"时间":"","奖项":""})},deleteproject:function(e,t){var s=t.item,n=t.which,a=e.resume[n].indexOf(s);e.resume[n].splice(a,1)},signup:function(e){e.Login=0},login:function(e){e.Login=1},setUser:function(e,t){ae()(e.user,t)},isUser:function(e,t){this.state.currentUser=t}}}),ce=(s("L/35"),{name:"app",store:ue,AV:w,created:function(){this.$store.commit("setUser",J()),this.$store.commit("isUser",J()),this.count.user.id&&(console.log(1),this.getResume())},components:{TopBar:j,EditorTab:A,Preview:H,Login:se},computed:{count:function(){return this.$store.state},user:function(){return this.$store.state.user}},methods:{logined:function(e){this.$store.commit("setUser",e),this.getResume()},getResume:function(){var e=this;new w.Query("ResumeList").find().then(function(t){var s=t[0],n=s.id;console.log(e.count.id),e.count.id=n,e.count.resume=JSON.parse(s.attributes.content)})}}}),le=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[null===e.count.currentUser||""===e.count.user.id?s("div",[s("Login",{on:{success:function(t){e.logined(t)}}})],1):s("div",{staticClass:"seciton"},[s("TopBar"),e._v(" "),s("div",{staticClass:"content"},[s("EditorTab"),e._v(" "),s("Preview")],1)],1)])},ve=[],de={render:le,staticRenderFns:ve},me=de,pe=s("VU/8"),_e=r,fe=pe(ce,me,!1,_e,null,null),he=fe.exports;p.default.use(m.a),p.default.use(v.a),p.default.use(c.a),p.default.config.productionTip=!1,new p.default({el:"#app",template:"<App/>",components:{App:he}})},Vigi:function(e,t){},"X+ky":function(e,t){},Xr8a:function(e,t){},cfEf:function(e,t){},isgN:function(e,t){},"sL++":function(e,t){},xsZ7:function(e,t){},ywTu:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.4ddb045b4c4d172a8e53.js.map