webpackJsonp([1],{"+BTi":function(t,e){},"2yya":function(t,e){},B9Pj:function(t,e){},GXEp:function(t,e){},"L/35":function(t,e){},NHnr:function(t,e,s){"use strict";function n(t){s("sL++")}function o(t){s("iAWQ")}function a(t){s("Pek3")}function i(t){s("QFXP")}function r(t){s("2yya")}function c(t){s("B9Pj")}Object.defineProperty(e,"__esModule",{value:!0});var u=(s("isgN"),s("tLa+")),l=s.n(u),v=(s("X+ky"),s("HJMx")),d=s.n(v),m=(s("GXEp"),s("+BTi"),s("mtrD")),p=s.n(m),_=(s("xsZ7"),s("7+uW")),f=s("JnRc"),h=s.n(f);h.a.init({appId:"B5kvrUwg3Ez32cbeyDjx2w3B-gzGzoHsz",appKey:"29fPCI4aGlr96gfStlyjQQEb"});var g=h.a,w=function(t){var e=t||g.User.current()||{attributes:{}},s=e.id,n=e.attributes.username;return{id:s||"",username:n||""}},b={data:function(){return{message:"",formData:{username:"",password:"",cfpassword:""}}},methods:{signUp:function(){var t=this,e=this.formData,s=e.username,n=e.password,o=e.cfpassword,a=new g.User;n===o?(a.setUsername(s),a.setPassword(n),a.signUp().then(function(e){t.message="注册成功"},function(e){t.message="注册失败⊙﹏⊙"})):this.message="两次密码不一致~"},Login:function(){var t=this,e=this.formData,s=e.username,n=e.password;g.User.logIn(s,n).then(function(e){t.$emit("success",w()),t.$store.commit("isUser",w())},function(e){t.message="用户不存在或者密码错误~"})},signup:function(){this.$store.commit("signup"),this.message=""},login:function(){this.$store.commit("login"),this.message=""}},computed:{count:function(){return this.$store.state}}},y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login"},[s("div",[t._m(0,!1,!1),t._v(" "),s("div",{staticClass:"loginandsign"},[1===t.count.Login?s("div",{staticClass:"logined"},[s("form",{on:{submit:function(e){e.preventDefault(),t.Login(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.username,expression:"formData.username"}],attrs:{type:"text",value:"",placeholder:"账号"},domProps:{value:t.formData.username},on:{input:function(e){e.target.composing||t.$set(t.formData,"username",e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.password,expression:"formData.password"}],attrs:{type:"password",value:"",placeholder:"密码"},domProps:{value:t.formData.password},on:{input:function(e){e.target.composing||t.$set(t.formData,"password",e.target.value)}}}),t._v(" "),s("a",{staticClass:"linksign",on:{click:t.signup}},[t._v("没有账号,赶紧注册~")]),t._v(" "),s("input",{staticClass:"loginbtn",attrs:{type:"submit",value:"登陆"}}),t._v(" "),s("div",{staticClass:"message"},[t._v(t._s(t.message))])])]):s("div",{staticClass:"signup"},[s("form",{on:{submit:function(e){e.preventDefault(),t.signUp(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.username,expression:"formData.username"}],attrs:{type:"text",value:"",placeholder:"账号"},domProps:{value:t.formData.username},on:{input:function(e){e.target.composing||t.$set(t.formData,"username",e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.password,expression:"formData.password"}],attrs:{type:"password",value:"",placeholder:"密码"},domProps:{value:t.formData.password},on:{input:function(e){e.target.composing||t.$set(t.formData,"password",e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.cfpassword,expression:"formData.cfpassword"}],attrs:{type:"password",value:"",placeholder:"确认密码"},domProps:{value:t.formData.cfpassword},on:{input:function(e){e.target.composing||t.$set(t.formData,"cfpassword",e.target.value)}}}),t._v(" "),s("input",{staticClass:"loginbtn",attrs:{type:"submit",value:"注册"}}),t._v(" "),s("div",{staticClass:"message"},[t._v(t._s(t.message))]),t._v(" "),s("a",{staticClass:"linksign",on:{click:t.login}},[t._v("已有账号,回去登陆~")])])])])])])},C=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"logo"},[s("div",[s("img",{staticClass:"shake-slow shake-constant shake-constant--hover",attrs:{src:"//ozuq4db16.bkt.clouddn.com/1.PNG",alt:""}}),t._v(" "),s("div",{staticClass:"words"},[t._v("Create your resume")])])])}],k={render:y,staticRenderFns:C},D=k,$=s("VU/8"),U=n,x=$(b,D,!1,U,null,null),j=x.exports,P=s("woOf"),R=s.n(P),L=s("NYxO"),E=s("SeUI"),N=s.n(E);_.default.use(L.a);var z=new L.a.Store({state:{current:0,Login:1,count:0,choosetab:0,currentUser:null,showresume:1,show:!0,user:{id:"",usename:""},resume:{config:[{field:"profile",icon:"mingpian"},{field:"workhistory",icon:"bag"},{field:"projects",icon:"xiangmu"},{field:"school",icon:"xuexiao"},{field:"awards",icon:"jiangbei"},{field:"introduce",icon:"ziwomiaoshu"}],profile:{"姓名":"","职业":"","居住城市":"","年龄":"",Email:"","手机":"",Github:"","求职意向":""},workhistory:[{"公司":"","开始时间":"","结束时间":"","职位":""}],projects:[{"项目":"","项目简介":"","预览地址":""}],school:{"学校":"","专业":"","开始时间":"","结束时间":"","学位":""},awards:[{"时间":"","奖项":""}],introduce:{"自我评价":""}}},mutations:{switchTab:function(t,e){t.choosetab=e},updata:function(t,e){var s=e.path,n=e.value;N.a.set(t.resume,s,n)},addproject:function(t,e){"workhistory"===e?t.resume[e].push({"公司":"","开始时间":"","结束时间":"","职位":""}):"projects"===e?t.resume[e].push({"项目":"","项目简介":"","预览地址":""}):"awards"===e&&t.resume[e].push({"时间":"","奖项":""})},deleteproject:function(t,e){var s=e.item,n=e.which,o=t.resume[n].indexOf(s);t.resume[n].splice(o,1)},signup:function(t){t.Login=0},login:function(t){t.Login=1},setUser:function(t,e){R()(t.user,e)},isUser:function(t,e){this.state.currentUser=e},showresume:function(t,e){this.state.showresume=e,this.state.show=!this.state.show,console.log(this.state.show)}}}),A=(s("L/35"),s("mvHQ")),O=s.n(A),T={computed:{resume:function(){return this.$store.state}},methods:{previewresume:function(){this.$store.commit("showresume",0)},saveORupdate:function(){this.resume.resume.id?(console.log(1),this.updateresume()):(console.log(2),this.saveresume())},saveresume:function(){var t=this,e=O()(this.resume.resume),s=g.Object.extend("ResumeList"),n=new s;n.set("content",e);var o=new g.ACL;o.setPublicReadAccess(!1),o.setPublicWriteAccess(!1),o.setWriteAccess(g.User.current(),!0),o.setReadAccess(g.User.current(),!0),n.setACL(o),n.save().then(function(e){t.resume.resume.id=e.id,console.log(e.id)}).catch(function(t){console.log(3)})},updateresume:function(){var t=O()(this.resume.resume),e=g.Object.createWithoutData("ResumeList",this.resume.resume.id);e.set("content",t),console.log(this.resume.resume.id),e.save(),console.log(4)},loginout:function(){g.User.logOut(),this.$store.commit("isUser",null)}}},G=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"slide-fade"}},[t.resume.show?s("div",{attrs:{id:"topbar"}},[s("div",{staticClass:"logo"},[s("img",{attrs:{src:"//ozuq4db16.bkt.clouddn.com/1.PNG",alt:""}})]),t._v(" "),s("div",{staticClass:"topbarbtn"},[s("el-button",{attrs:{type:"info",size:"small"},on:{click:t.previewresume}},[t._v("预览")]),t._v(" "),s("el-button",{attrs:{type:"info",size:"small"},on:{click:function(e){e.preventDefault(),t.saveORupdate(e)}}},[t._v("保存")]),t._v(" "),s("el-button",{attrs:{type:"info",size:"small"},on:{click:function(e){e.preventDefault(),t.loginout(e)}}},[t._v("登出")])],1)]):t._e()])},B=[],F={render:G,staticRenderFns:B},M=F,Q=s("VU/8"),V=o,W=Q(T,M,!1,V,"data-v-023794cb",null),X=W.exports,H={name:"EditorTab",computed:{choosetab:{get:function(){return this.$store.state.choosetab},set:function(t){return this.$store.commit("switchTab",t)}},count:function(){return this.$store.state}},methods:{additem:function(t){this.$store.commit("addproject",t)},deleteitem:function(t,e){this.$store.commit("deleteproject",{item:t,which:e})},changedata:function(t,e){this.$store.commit("updata",{path:t,value:e})}}},I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"slide-fade"}},[t.count.show?s("div",{attrs:{id:"editor"}},[s("ul",{staticClass:"class-icons"},t._l(t.count.resume.config,function(e,n){return s("li",{class:{active:t.choosetab===n},on:{click:function(e){t.choosetab=n}}},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-"+t.count.resume.config[n].icon}})])])})),t._v(" "),s("ul",{staticClass:"to-input"},[s("li",{class:{active:0===t.choosetab}},t._l(t.count.resume.profile,function(e,n){return s("div",[s("label",[t._v(t._s(n))]),t._v(" "),s("el-input",{attrs:{value:e,placeholder:"请输入"+n},on:{input:function(e){t.changedata("profile."+n,e)}}})],1)})),t._v(" "),s("li",{class:{active:1===t.choosetab}},[t._l(t.count.resume.workhistory,function(e,n){return s("div",{staticClass:"workhistory"},[t._l(e,function(e,o){return s("div",["开始时间"===o||"结束时间"===o?s("div",[s("label",[t._v(t._s(o))]),t._v(" "),s("el-date-picker",{attrs:{value:e,type:"month","value-format":"yyyy.MM",placeholder:"选择日期"},on:{input:function(e){t.changedata("workhistory."+n+"."+o,e)}}})],1):s("div",[s("label",[t._v(t._s(o))]),t._v(" "),s("el-input",{attrs:{value:e,placeholder:"请输入"+o+"名称"},on:{input:function(e){t.changedata("workhistory."+n+"."+o,e)}}})],1)])}),t._v(" "),s("i",{staticClass:"el-icon-delete",on:{click:function(s){s.preventDefault(),t.deleteitem(e,"workhistory")}}}),t._v(" "),s("hr")],2)}),t._v(" "),s("button",{staticClass:"addmore",on:{click:function(e){e.preventDefault(),t.additem("workhistory")}}},[t._v("+")])],2),t._v(" "),s("li",{class:{active:2===t.choosetab}},[t._l(t.count.resume.projects,function(e,n){return s("div",{staticClass:"projects"},[t._l(e,function(e,o){return s("div",["项目简介"===o?s("div",[s("label",[t._v(t._s(o))]),t._v(" "),s("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入"+o},on:{input:function(e){t.changedata("projects."+n+"."+o,e)}}})],1):s("div",[s("label",[t._v(t._s(o))]),t._v(" "),s("el-input",{attrs:{value:e,placeholder:"请输入内容"},on:{input:function(e){t.changedata("projects."+n+"."+o,e)}}})],1)])}),t._v(" "),s("i",{staticClass:"el-icon-delete",on:{click:function(s){s.preventDefault(),t.deleteitem(e,"projects")}}}),t._v(" "),s("hr")],2)}),t._v(" "),s("button",{staticClass:"addmore",on:{click:function(e){e.preventDefault(),t.additem("projects")}}},[t._v("+")])],2),t._v(" "),s("li",{class:{active:3===t.choosetab}},t._l(t.count.resume.school,function(e,n){return s("div",["开始时间"===n||"结束时间"===n?s("div",[s("label",[t._v(t._s(n))]),t._v(" "),s("el-date-picker",{attrs:{value:e,type:"month","value-format":"yyyy.MM",placeholder:"选择日期"},on:{input:function(e){t.changedata("school."+n,e)}}})],1):s("div",[s("label",[t._v(t._s(n))]),t._v(" "),s("el-input",{attrs:{value:e,placeholder:"请输入"+n},on:{input:function(e){t.changedata("school."+n,e)}}})],1)])})),t._v(" "),s("li",{class:{active:4===t.choosetab}},[t._l(t.count.resume.awards,function(e,n){return s("div",[t._l(e,function(e,o){return s("div",["时间"===o?s("div",[s("label",[t._v("时间")]),t._v(" "),s("el-date-picker",{attrs:{value:e,type:"month","value-format":"yyyy.MM",placeholder:"选择日期"},on:{input:function(e){t.changedata("awards."+n+"."+o,e)}}})],1):s("div",[s("label",[t._v(t._s(o))]),t._v(" "),s("el-input",{attrs:{value:e,placeholder:"请输入"+o},on:{input:function(e){t.changedata("awards."+n+"."+o,e)}}})],1)])}),t._v(" "),s("i",{staticClass:"el-icon-delete",on:{click:function(s){s.preventDefault(),t.deleteitem(e,"awards")}}}),t._v(" "),s("hr")],2)}),t._v(" "),s("button",{staticClass:"addmore",on:{click:function(e){e.preventDefault(),t.additem("awards")}}},[t._v("+")])],2),t._v(" "),s("li",{class:{active:5===t.choosetab}},t._l(t.count.resume.introduce,function(e,n){return s("div",[s("label",[t._v(t._s(n))]),t._v(" "),s("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请简述"+n},on:{input:function(e){t.changedata("introduce."+n,e)}}})],1)}))])]):t._e()])},J=[],S={render:I,staticRenderFns:J},q=S,Z=s("VU/8"),K=a,Y=Z(H,q,!1,K,null,null),tt=Y.exports,et={computed:{count:function(){return this.$store.state}},methods:{}},st=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"preview",class:{active1:0===t.count.showresume}},[s("div",{staticClass:"pcontent"},[s("div",{staticClass:"profile"},[s("h1",[t._v(t._s(t.count.resume.profile.姓名))]),t._v(" "),s("h3",[t._v(t._s(t.count.resume.profile.职业))]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"inform"},[s("h2",[t._v("基本信息")]),t._v(" "),s("p",[s("span",[t._v("年龄：")]),t._v(t._s(t.count.resume.profile.年龄))]),t._v(" "),s("p",[s("span",[t._v("城市：")]),t._v(t._s(t.count.resume.profile.居住城市))]),t._v(" "),s("p",[s("span",[t._v("Email：")]),t._v(t._s(t.count.resume.profile.Email))]),t._v(" "),s("p",[s("span",[t._v("手机：")]),t._v(t._s(t.count.resume.profile.手机))]),t._v(" "),s("p",[s("span",[t._v("Github：")]),t._v(t._s(t.count.resume.profile.Github))]),t._v(" "),s("hr"),t._v(" "),s("h2",[t._v("求职意向")]),t._v(" "),s("p",[t._v(t._s(t.count.resume.profile.求职意向))])]),t._v(" "),s("hr")]),t._v(" "),0!==t.count.resume.workhistory.length?s("div",{staticClass:"workhistory"},[s("h2",[t._v("工作经历")]),t._v(" "),t._l(t.count.resume.workhistory,function(e,n){return s("div",{staticClass:"item"},[s("p",[s("span",[t._v("公司：")]),t._v(t._s(e.公司))]),t._v(" "),s("p",[s("span",[t._v("工作时间：")]),t._v(t._s(e.开始时间)+" - "+t._s(e.结束时间))]),t._v(" "),s("p",[s("span",[t._v("职位：")]),t._v(t._s(e.职位))])])}),t._v(" "),s("hr")],2):t._e(),t._v(" "),0!==t.count.resume.projects.length?s("div",{staticClass:"projects"},[s("h2",[t._v("项目经验")]),t._v(" "),t._l(t.count.resume.projects,function(e){return s("div",{staticClass:"item"},[s("h3",[t._v(t._s(e.项目))]),t._v(" "),s("p",[s("span",[t._v("项目简介：")]),t._v(t._s(e.项目简介))]),t._v(" "),s("p",[s("span",[t._v("线上地址：")]),t._v(t._s(e.预览地址))])])}),t._v(" "),s("hr")],2):t._e(),t._v(" "),s("div",{staticClass:"school"},[s("h2",[t._v("教育背景")]),t._v(" "),s("p",[s("span",[t._v("学校：")]),t._v(t._s(t.count.resume.school.学校))]),t._v(" "),s("p",[s("span",[t._v("专业：")]),t._v(t._s(t.count.resume.school.专业))]),t._v(" "),s("p",[s("span",[t._v("时间：")]),t._v(t._s(t.count.resume.school.开始时间)+"-"+t._s(t.count.resume.school.结束时间))]),t._v(" "),s("p",[s("span",[t._v("学位：")]),t._v(t._s(t.count.resume.school.学位))]),t._v(" "),s("hr")]),t._v(" "),0!==t.count.resume.awards.length?s("div",{staticClass:"awards"},[s("h2",[t._v("获得荣誉")]),t._v(" "),t._l(t.count.resume.awards,function(e){return s("div",{staticClass:"item"},[s("p",[s("span",[t._v("时间：")]),t._v(t._s(e.时间))]),t._v(" "),s("p",[s("span",[t._v("获奖内容：")]),t._v(t._s(e.奖项))])])}),t._v(" "),s("hr")],2):t._e(),t._v(" "),s("div",{staticClass:"introduce"},[s("h2",[t._v("自我评价")]),t._v(" "),s("p",[t._v(t._s(t.count.resume.introduce.自我评价))])])])])},nt=[],ot={render:st,staticRenderFns:nt},at=ot,it=s("VU/8"),rt=i,ct=it(et,at,!1,rt,"data-v-34df7122",null),ut=ct.exports,lt={components:{TopBar:X,EditorTab:tt,Preview:ut},computed:{count:function(){return this.$store.state}},methods:{goback:function(){this.$store.commit("showresume",1)}}},vt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"seciton"},[s("TopBar"),t._v(" "),s("div",{staticClass:"content"},[s("EditorTab"),t._v(" "),s("Preview")],1),t._v(" "),s("transition",{attrs:{name:"slide-fade"}},[t.count.show?t._e():s("el-button",{staticClass:"goback",attrs:{type:"info",size:"small"},on:{click:function(e){e.preventDefault(),t.goback(e)}}},[t._v("返回")])],1)],1)},dt=[],mt={render:vt,staticRenderFns:dt},pt=mt,_t=s("VU/8"),ft=r,ht=_t(lt,pt,!1,ft,"data-v-dd47ae4e",null),gt=ht.exports,wt={name:"app",store:z,AV:g,created:function(){this.$store.commit("setUser",w()),this.$store.commit("isUser",w()),this.count.user.id&&this.getResume()},components:{Login:j,Resume:gt},computed:{count:function(){return this.$store.state},user:function(){return this.$store.state.user}},methods:{logined:function(t){location.reload(),this.$store.commit("setUser",t),this.getResume()},getResume:function(){var t=this;new g.Query("ResumeList").find().then(function(e){var s=e[0],n=s.id;console.log(t.count.id),t.count.id=n,t.count.resume=JSON.parse(s.attributes.content)})}}},bt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[null===t.count.currentUser||""===t.count.user.id?s("div",[s("Login",{on:{success:function(e){t.logined(e)}}})],1):s("div",{staticClass:"seciton"},[s("Resume")],1)])},yt=[],Ct={render:bt,staticRenderFns:yt},kt=Ct,Dt=s("VU/8"),$t=c,Ut=Dt(wt,kt,!1,$t,null,null),xt=Ut.exports;_.default.use(p.a),_.default.use(d.a),_.default.use(l.a),_.default.config.productionTip=!1,new _.default({el:"#app",template:"<App/>",components:{App:xt}})},Pek3:function(t,e){},QFXP:function(t,e){},"X+ky":function(t,e){},iAWQ:function(t,e){},isgN:function(t,e){},"sL++":function(t,e){},xsZ7:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.97d68f2fc2da2fac400f.js.map